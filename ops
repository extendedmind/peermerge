{"author":{"id":"8aebef545550abdf8a4de861c911fa9f424383b0f81bdebb2ca52206e7d7f25d"},"ops":[{"type":1,"timestamp":1674650468,"nonce":"LpjqfJx8Ixq1S4V/TaALocZRWyQ=","title":"Bug: Could not create proof from 1","message":"Happened twice on a brand new tokio bench of append_three_plain, on the very first run.\n\nDebug log:\n\n2023-01-25T12:33:32.979045Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Begin listening to protocol events\n2023-01-25T12:33:32.979067Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: hypercore_protocol::protocol: protocol init, state NotInitialized, options Options { is_initiator: false, noise: true, encrypted: true }\n2023-01-25T12:33:32.981943Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Begin listening to protocol events\n2023-01-25T12:33:32.982048Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: hypercore_protocol::protocol: protocol init, state NotInitialized, options Options { is_initiator: true, noise: true, encrypted: true }\n2023-01-25T12:33:32.982168Z  INFO call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: hypercore_protocol::noise::handshake: building initiator\n2023-01-25T12:33:32.983798Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Handshake(remote_key=f55bc4..ac))\n2023-01-25T12:33:32.983864Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Handshake(remote_key=99c470..71))\n2023-01-25T12:33:32.983904Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Event:Handshake: opening protocol\n2023-01-25T12:33:32.983942Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Event:Handshake: opening protocol\n2023-01-25T12:33:32.984065Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(DiscoveryKey(c3b87f..cf))\n2023-01-25T12:33:32.984078Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(DiscoveryKey(7e0d1a..3e))\n2023-01-25T12:33:32.984095Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(7e0d1a..3e))\n2023-01-25T12:33:32.984250Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=1\n2023-01-25T12:33:32.984289Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=1\n2023-01-25T12:33:32.984347Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer: peermerge::hypercore::peer: Start listening on doc channel messages\n2023-01-25T12:33:32.984381Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(7e0d1a..3e))\n2023-01-25T12:33:32.984984Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=2\n2023-01-25T12:33:32.984998Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=2\n2023-01-25T12:33:32.985113Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer: peermerge::hypercore::peer: Start listening on doc channel messages\n2023-01-25T12:33:32.985196Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73, 1, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84] })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.985202Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [1, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84] })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.985225Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event NewPeersBroadcasted([[19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73]])\n2023-01-25T12:33:32.985393Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"new_peers_created\", [1, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73]))}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.985430Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(LocalSignal(name=new_peers_created,len=33))\n2023-01-25T12:33:32.985479Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(c3b87f..cf))\n2023-01-25T12:33:32.985507Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=2\n2023-01-25T12:33:32.985513Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=2\n2023-01-25T12:33:32.985562Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.985581Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(c3b87f..cf))\n2023-01-25T12:33:32.985607Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=1\n2023-01-25T12:33:32.985616Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=1\n2023-01-25T12:33:32.985646Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84, 1, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73] })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.985648Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.985684Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.985784Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.985704Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.985797Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.985888Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.985960Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.985967Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.986026Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.986034Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(RequestUpgrade { start: 0, length: 1 }) })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.986114Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(RequestUpgrade { start: 0, length: 1 }) })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.986216Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(DataUpgrade { start: 0, length: 1, nodes: [Node { index: 0, hash: [202, 126, 193, 165, 136, 0, 230, 195, 108, 165, 97, 100, 130, 182, 89, 162, 151, 67, 29, 43, 171, 164, 26, 120, 73, 208, 93, 151, 93, 178, 131, 121], length: 38, parent: 1, data: Some([]), blank: false }], additional_nodes: [], signature: [38, 43, 65, 135, 65, 231, 135, 191, 11, 17, 3, 144, 249, 122, 191, 161, 5, 125, 120, 244, 197, 8, 111, 204, 16, 49, 253, 159, 243, 113, 102, 212, 214, 22, 32, 218, 244, 249, 139, 80, 143, 194, 199, 210, 42, 227, 132, 225, 57, 230, 112, 58, 128, 49, 23, 223, 224, 111, 232, 94, 86, 42, 114, 7] }) })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.986226Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(DataUpgrade { start: 0, length: 1, nodes: [Node { index: 0, hash: [201, 211, 75, 244, 186, 68, 166, 240, 37, 91, 210, 32, 32, 160, 134, 21, 113, 175, 86, 45, 101, 217, 121, 109, 18, 8, 151, 246, 138, 212, 176, 17], length: 159, parent: 1, data: Some([]), blank: false }], additional_nodes: [], signature: [85, 31, 131, 73, 128, 247, 146, 53, 48, 2, 22, 50, 61, 233, 222, 125, 227, 50, 126, 174, 202, 57, 153, 182, 101, 125, 242, 96, 113, 225, 4, 8, 89, 225, 0, 64, 251, 62, 141, 215, 42, 115, 230, 150, 119, 11, 162, 4, 108, 178, 233, 108, 48, 100, 206, 105, 147, 166, 47, 109, 145, 134, 110, 0] }) })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.986891Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: false })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.986930Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: Some(RequestBlock { index: 0, nodes: 0 }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.986972Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.987018Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: Some(DataBlock { index: 0, value: [1, 0, 153, 133, 111, 74, 131, 42, 183, 207, 163, 0, 142, 1, 1, 34, 112, 49, 126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62, 1, 33, 231, 136, 38, 8, 14, 18, 29, 25, 190, 101, 151, 135, 60, 63, 169, 209, 82, 1, 39, 196, 149, 86, 250, 77, 203, 207, 198, 27, 170, 15, 114, 7, 1, 2, 3, 2, 19, 2, 35, 2, 53, 6, 64, 2, 86, 2, 8, 21, 9, 33, 2, 35, 2, 52, 1, 66, 2, 86, 2, 87, 1, 128, 1, 2, 127, 0, 127, 1, 127, 1, 127, 0, 127, 4, 105, 110, 105, 116, 127, 0, 127, 7, 127, 7, 118, 101, 114, 115, 105, 111, 110, 127, 0, 127, 1, 1, 127, 1, 127, 20, 1, 127, 0, 0, 2, 112, 49], nodes: [] }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.987521Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event PeerSynced(([126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62], 1))\n2023-01-25T12:33:32.987563Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.987579Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event RemotePeerSynced(([126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62], 1))\n2023-01-25T12:33:32.987650Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: false })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.987676Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: Some(RequestBlock { index: 0, nodes: 0 }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.987721Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.987814Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"peer_synced\", [1]))}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.987820Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: Some(DataBlock { index: 0, value: [1, 1, 32, 126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62, 2, 112, 50], nodes: [] }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.988304Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event PeerSynced(([195, 184, 127, 148, 246, 192, 225, 43, 232, 232, 239, 137, 238, 236, 101, 145, 44, 212, 226, 115, 222, 225, 144, 81, 68, 151, 60, 75, 104, 22, 246, 207], 1))\n2023-01-25T12:33:32.988325Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.988354Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{LocalSignal((\"peer_synced\", [1]))}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.988360Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event RemotePeerSynced(([195, 184, 127, 148, 246, 192, 225, 43, 232, 232, 239, 137, 238, 236, 101, 145, 44, 212, 226, 115, 222, 225, 144, 81, 68, 151, 60, 75, 104, 22, 246, 207], 1))\n2023-01-25T12:33:32.988794Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Begin listening to protocol events\n2023-01-25T12:33:32.988818Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: hypercore_protocol::protocol: protocol init, state NotInitialized, options Options { is_initiator: false, noise: true, encrypted: true }\n2023-01-25T12:33:32.991441Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Begin listening to protocol events\n2023-01-25T12:33:32.991449Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: hypercore_protocol::protocol: protocol init, state NotInitialized, options Options { is_initiator: true, noise: true, encrypted: true }\n2023-01-25T12:33:32.991478Z  INFO call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: hypercore_protocol::noise::handshake: building initiator\n2023-01-25T12:33:32.991967Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Handshake(remote_key=008179..d8))\n2023-01-25T12:33:32.991984Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Handshake(remote_key=9719ff..af))\n2023-01-25T12:33:32.991995Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Event:Handshake: opening protocol\n2023-01-25T12:33:32.992003Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Event:Handshake: opening protocol\n2023-01-25T12:33:32.992036Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(DiscoveryKey(1c2717..e1))\n2023-01-25T12:33:32.992045Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(DiscoveryKey(7e0d1a..3e))\n2023-01-25T12:33:32.992061Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(7e0d1a..3e))\n2023-01-25T12:33:32.992069Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=1\n2023-01-25T12:33:32.992137Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=1\n2023-01-25T12:33:32.992167Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer: peermerge::hypercore::peer: Start listening on doc channel messages\n2023-01-25T12:33:32.992175Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(7e0d1a..3e))\n2023-01-25T12:33:32.992187Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=2\n2023-01-25T12:33:32.992193Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=2\n2023-01-25T12:33:32.992262Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer: peermerge::hypercore::peer: Start listening on doc channel messages\n2023-01-25T12:33:32.992276Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84, 1, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73] })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.992316Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215, 1, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84] })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.992416Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event NewPeersBroadcasted([[235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215]])\n2023-01-25T12:33:32.992329Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event NewPeersBroadcasted([[19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73]])\n2023-01-25T12:33:32.992857Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"new_peers_created\", [1, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215]))}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.992899Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(LocalSignal(name=new_peers_created,len=33))\n2023-01-25T12:33:32.992902Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"new_peers_created\", [1, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215]))}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.992917Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(1c2717..e1))\n2023-01-25T12:33:32.992973Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=2\n2023-01-25T12:33:32.992980Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=2\n2023-01-25T12:33:32.992929Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(LocalSignal(name=new_peers_created,len=33))\n2023-01-25T12:33:32.993066Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.993099Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84, 2, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215] })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993099Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(1c2717..e1))\n2023-01-25T12:33:32.993081Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"new_peers_created\", [1, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73]))}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993263Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=1\n2023-01-25T12:33:32.993332Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=1\n2023-01-25T12:33:32.993264Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event NewPeersBroadcasted([[235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215]])\n2023-01-25T12:33:32.993377Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(LocalSignal(name=new_peers_created,len=33))\n2023-01-25T12:33:32.993404Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.993532Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.993563Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84, 2, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215] })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993569Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(DiscoveryKey(c3b87f..cf))\n2023-01-25T12:33:32.993711Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993743Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993746Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993775Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(c3b87f..cf))\n2023-01-25T12:33:32.993815Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.993818Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(c3b87f..cf))\n2023-01-25T12:33:32.993882Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=3\n2023-01-25T12:33:32.993897Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=3\n2023-01-25T12:33:32.993966Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=3\n2023-01-25T12:33:32.993970Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=3\n2023-01-25T12:33:32.993988Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.993993Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215, 2, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73] })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994004Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.994195Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994039Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"new_peers_created\", [1, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215]))}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.994144Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.994201Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.994120Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994226Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994325Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(LocalSignal(name=new_peers_created,len=33))\n2023-01-25T12:33:32.994417Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.994522Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(RequestUpgrade { start: 0, length: 1 }) })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994533Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(DiscoveryKey(1c2717..e1))\n2023-01-25T12:33:32.994592Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(RequestUpgrade { start: 0, length: 1 }) })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994609Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.994666Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(1c2717..e1))\n2023-01-25T12:33:32.994679Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Extension(Extension { name: \"peermerge/v1/broadcast\", message: [3, 19, 18, 185, 255, 44, 48, 202, 94, 162, 44, 115, 195, 137, 57, 69, 168, 103, 42, 178, 2, 229, 116, 85, 69, 179, 198, 37, 168, 211, 232, 148, 73, 2, 102, 198, 106, 6, 192, 149, 251, 166, 241, 126, 153, 141, 234, 181, 166, 170, 57, 109, 165, 169, 88, 77, 72, 56, 31, 59, 237, 159, 227, 206, 60, 84, 235, 218, 190, 133, 230, 104, 183, 54, 173, 114, 165, 118, 125, 119, 53, 30, 141, 145, 132, 228, 187, 88, 172, 89, 0, 168, 201, 40, 60, 218, 74, 215] })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.994687Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(DataUpgrade { start: 0, length: 1, nodes: [Node { index: 0, hash: [201, 211, 75, 244, 186, 68, 166, 240, 37, 91, 210, 32, 32, 160, 134, 21, 113, 175, 86, 45, 101, 217, 121, 109, 18, 8, 151, 246, 138, 212, 176, 17], length: 159, parent: 1, data: Some([]), blank: false }], additional_nodes: [], signature: [85, 31, 131, 73, 128, 247, 146, 53, 48, 2, 22, 50, 61, 233, 222, 125, 227, 50, 126, 174, 202, 57, 153, 182, 101, 125, 242, 96, 113, 225, 4, 8, 89, 225, 0, 64, 251, 62, 141, 215, 42, 115, 230, 150, 119, 11, 162, 4, 108, 178, 233, 108, 48, 100, 206, 105, 147, 166, 47, 109, 145, 134, 110, 0] }) })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.994695Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(DataUpgrade { start: 0, length: 1, nodes: [Node { index: 0, hash: [94, 116, 90, 132, 16, 96, 253, 161, 22, 57, 49, 136, 39, 94, 135, 132, 180, 44, 111, 143, 164, 46, 115, 249, 95, 62, 71, 212, 233, 41, 50, 29], length: 38, parent: 1, data: Some([]), blank: false }], additional_nodes: [], signature: [44, 31, 121, 94, 106, 91, 63, 255, 166, 138, 139, 253, 36, 159, 65, 127, 53, 76, 152, 255, 57, 146, 43, 90, 68, 171, 94, 161, 149, 187, 173, 196, 12, 102, 210, 43, 210, 14, 59, 125, 248, 0, 73, 65, 56, 148, 194, 221, 20, 237, 92, 18, 113, 60, 40, 18, 83, 84, 122, 56, 79, 19, 223, 10] }) })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:32.994735Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=3\n2023-01-25T12:33:32.994737Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(RequestUpgrade { start: 0, length: 1 }) })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.994954Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=3\n2023-01-25T12:33:32.995034Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(DataUpgrade { start: 0, length: 1, nodes: [Node { index: 0, hash: [202, 126, 193, 165, 136, 0, 230, 195, 108, 165, 97, 100, 130, 182, 89, 162, 151, 67, 29, 43, 171, 164, 26, 120, 73, 208, 93, 151, 93, 178, 131, 121], length: 38, parent: 1, data: Some([]), blank: false }], additional_nodes: [], signature: [38, 43, 65, 135, 65, 231, 135, 191, 11, 17, 3, 144, 249, 122, 191, 161, 5, 125, 120, 244, 197, 8, 111, 204, 16, 49, 253, 159, 243, 113, 102, 212, 214, 22, 32, 218, 244, 249, 139, 80, 143, 194, 199, 210, 42, 227, 132, 225, 57, 230, 112, 58, 128, 49, 23, 223, 224, 111, 232, 94, 86, 42, 114, 7] }) })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.995033Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Got protocol event Ok(Channel(1c2717..e1))\n2023-01-25T12:33:32.995080Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol: peermerge::hypercore::protocol: Event:Channel: id=3\n2023-01-25T12:33:32.995153Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel: peermerge::hypercore::wrapper: Processing channel id=3\n2023-01-25T12:33:32.995170Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.995650Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: false })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.995666Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: Some(RequestBlock { index: 0, nodes: 0 }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.995704Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.995720Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: Some(DataBlock { index: 0, value: [1, 1, 32, 126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62, 2, 112, 50], nodes: [] }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.995971Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer: peermerge::hypercore::peer: Start listening on channel messages\n2023-01-25T12:33:32.995983Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996041Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 0, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996068Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 0, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996125Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(RequestUpgrade { start: 0, length: 1 }) })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996161Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: None, hash: None, seek: None, upgrade: Some(DataUpgrade { start: 0, length: 1, nodes: [Node { index: 0, hash: [94, 116, 90, 132, 16, 96, 253, 161, 22, 57, 49, 136, 39, 94, 135, 132, 180, 44, 111, 143, 164, 46, 115, 249, 95, 62, 71, 212, 233, 41, 50, 29], length: 38, parent: 1, data: Some([]), blank: false }], additional_nodes: [], signature: [44, 31, 121, 94, 106, 91, 63, 255, 166, 138, 139, 253, 36, 159, 65, 127, 53, 76, 152, 255, 57, 146, 43, 90, 68, 171, 94, 161, 149, 187, 173, 196, 12, 102, 210, 43, 210, 14, 59, 125, 248, 0, 73, 65, 56, 148, 194, 221, 20, 237, 92, 18, 113, 60, 40, 18, 83, 84, 122, 56, 79, 19, 223, 10] }) })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996239Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: false })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.996249Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event PeerSynced(([195, 184, 127, 148, 246, 192, 225, 43, 232, 232, 239, 137, 238, 236, 101, 145, 44, 212, 226, 115, 222, 225, 144, 81, 68, 151, 60, 75, 104, 22, 246, 207], 1))\n2023-01-25T12:33:32.996259Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: false })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.996279Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996305Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: Some(RequestBlock { index: 0, nodes: 0 }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.996321Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{LocalSignal((\"peer_synced\", [1]))}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:32.996366Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: Some(RequestBlock { index: 0, nodes: 0 }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:32.996372Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event RemotePeerSynced(([195, 184, 127, 148, 246, 192, 225, 43, 232, 232, 239, 137, 238, 236, 101, 145, 44, 212, 226, 115, 222, 225, 144, 81, 68, 151, 60, 75, 104, 22, 246, 207], 1))\n2023-01-25T12:33:32.997156Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: false })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:33.000346Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:33.000346Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Request(Request { id: 1, fork: 0, block: Some(RequestBlock { index: 0, nodes: 0 }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:33.000391Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:33.000434Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: Some(DataBlock { index: 0, value: [1, 1, 32, 126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62, 2, 112, 51], nodes: [] }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=2\nthread 'tokio-runtime-worker' panicked at 'Could not create proof from 1', /Users/ttiurani/devel/em/peermerge/src/hypercore/messaging.rs:2102023-01-25T12:33:33.000533Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Data(Data { request: 1, fork: 0, block: Some(DataBlock { index: 0, value: [1, 0, 153, 133, 111, 74, 131, 42, 183, 207, 163, 0, 142, 1, 1, 34, 112, 49, 126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62, 1, 33, 231, 136, 38, 8, 14, 18, 29, 25, 190, 101, 151, 135, 60, 63, 169, 209, 82, 1, 39, 196, 149, 86, 250, 77, 203, 207, 198, 27, 170, 15, 114, 7, 1, 2, 3, 2, 19, 2, 35, 2, 53, 6, 64, 2, 86, 2, 8, 21, 9, 33, 2, 35, 2, 52, 1, 66, 2, 86, 2, 87, 1, 128, 1, 2, 127, 0, 127, 1, 127, 1, 127, 0, 127, 4, 105, 110, 105, 116, 127, 0, 127, 7, 127, 7, 118, 101, 114, 115, 105, 111, 110, 127, 0, 127, 1, 1, 127, 1, 127, 20, 1, 127, 0, 0, 2, 112, 49], nodes: [] }), hash: None, seek: None, upgrade: None })}: peermerge::hypercore::messaging: Message on channel=2\n:17\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\n2023-01-25T12:33:33.000712Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event PeerSynced(([126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62], 1))\n2023-01-25T12:33:33.000782Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p2\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Synchronize(Synchronize { fork: 0, length: 1, remote_length: 1, downloading: true, uploading: true, can_upgrade: true })}: peermerge::hypercore::messaging: Message on channel=3\n2023-01-25T12:33:33.000898Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{LocalSignal((\"peer_synced\", [1]))}: peermerge::hypercore::messaging: Message on channel=2\n2023-01-25T12:33:33.001023Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event PeerSynced(([28, 39, 23, 21, 102, 252, 158, 106, 213, 169, 34, 113, 255, 156, 250, 12, 251, 88, 4, 9, 26, 230, 158, 245, 10, 242, 56, 30, 171, 33, 9, 225], 1))\n2023-01-25T12:33:33.001032Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_doc_peer:on_doc_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:33.001050Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{Range(Range { drop: false, start: 0, length: 1 })}: peermerge::hypercore::messaging: Message on channel=1\n2023-01-25T12:33:33.001055Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event RemotePeerSynced(([126, 13, 26, 252, 131, 122, 179, 176, 247, 89, 186, 251, 71, 73, 244, 17, 159, 49, 48, 196, 159, 16, 88, 168, 29, 37, 228, 81, 25, 40, 88, 62], 1))\n2023-01-25T12:33:33.001079Z DEBUG call_connect:connect_protocol_memory{peer_name=\"p3\"}:call_on_peer_event_memory:on_peer_event_memory: peermerge::core: Received event RemotePeerSynced(([28, 39, 23, 21, 102, 252, 158, 106, 213, 169, 34, 113, 255, 156, 250, 12, 251, 88, 4, 9, 26, 230, 158, 245, 10, 242, 56, 30, 171, 33, 9, 225], 1))\n2023-01-25T12:33:33.001090Z DEBUG connect_protocol_memory{peer_name=\"p1\"}:on_protocol:on_channel:call_on_peer:on_peer:process_message:on_message{LocalSignal((\"peer_synced\", [1]))}: peermerge::hypercore::messaging: Message on channel=2","files":null}]}